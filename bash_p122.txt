El shell Bash

MacProgramadores

3. Los bloques de comandos
Podemos usar los operadores de redirección para cambiar la entrada o salida
estándar de una función. El Listado 7.7 muestra una función que usamos para
que, consultando el fichero /etc/group, nos devuelva el ID de un grupo de
usuarios. Por ejemplo, si este script está almacenado en un fichero llamado
iddegrupo:
$ iddegrupo kmem
2
Lo peculiar de la función es que cuando la ejecutamos estamos cambiando su
entrada estándar para que read lea de esta entrada.
function IDdeGrupo
{
IFS=:
while read grupo asterisco ID resto
do
if [ $1 = $grupo ]; then
echo $ID
return
fi
done
}
IDdeGrupo $1 < /etc/group
Listado 7.7: Función a la que redirigimos la entrada

Para que esta función use como entrada estándar el fichero /etc/group
necesitamos redireccionar su entrada cuando la ejecutamos. Si queremos que
la entrada estándar de una función siempre esté redirigida al mismo fichero
podemos indicarlo en su implementación como muestra el Listado 7.8.
function IDdeGrupo
{
IFS=:
while read grupo asterisco ID resto
do
if [ $1 = $grupo ]; then
echo $ID
return
fi
done
} < /etc/group
Listado 7.8: Función con la entrada redirigida

Pág 122

