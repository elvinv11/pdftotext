El shell Bash

MacProgramadores

function elegirdir
{
if [ -z "$PILADIR" ]; then # Si no hay directorios error
echo "No hay directorios en la pila"
fi
PS3='Eliga directorio:'
select dir in $PILADIR
do
if [ $dir ]; then # Se ha elegido directorio valido
if [ -z "${PILADIR%%* *}" ]
then # Mas de un dir en la pila
piladir=$PILADIR
PILADIR="$dir ${piladir%%$dir*}"
PILADIR="$PILADIR ${piladir##*$dir}"
fi
cd $dir
echo $PILADIR
break
else
echo "Opcion no valida"
fi
done
}
Listado 5.7: Implementaci칩n de la funci칩n elegirdir()

En ejemplo de ejecuci칩n es el siguiente:
$ echo $PILADIR
/var/ /usr /tmp/ /Users/fernando
$ elegirdir
1) /var/
2) /usr
3) /tmp/
4) /Users/fernando
Eliga directorio:3
/tmp/ /var/ /usr /Users/fernando

P치g 86

