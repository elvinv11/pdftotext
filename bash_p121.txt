El shell Bash

MacProgramadores

mejor resulta más conveniente pedir un dato como argumento que pedir al
usuario que lo introduzca con read. O al menos ofrecer las dos opciones.
Antes de acabar con el comando read vamos a comentar las principales
opciones del comando read, que se resumen en la Tabla 7.6.
Opción
-a
-d
-e
-n max
-p
-t

Descripción
Permite leer las palabras como elementos de un array
Permite indicar un delimitador de fin de línea
Activa las teclas de edición de readline
Permite leer como máximo max caracteres.
Permite indicar un texto de prompt
Permite indicar un timeout para la operación de lectura

Tabla 7.6: Opciones del comando read

La primera opción que vamos a comentar es -a, que permite leer las palabras
como elementos de un array.
$ read -a frase
Hola que tal
$ declare -p frase
declare -a frase='([0]="Hola" [1]="que" [2]="tal")'
La opción -d nos permite indicar un delimitador de fin de línea de forma que
la línea se lee hasta encontrar este delimitador.
La opción -e es recomendable usarla en general siempre, ya que permite que
se puedan usar todas las combinaciones de teclas de readline en el prompt de
read.
La opción -n nos permite especificar un número máximo de caracteres a leer.
Si se intentan escribir más caracteres que los indicados en esta opción
simplemente se acaba la operación de read.
La opción -p nos permite aportar un texto de prompt al comando que se
imprime antes de pedir el dato:
$ read -p "Cual es tu nombre:"
Cual es tu nombre:Fernando
Por último la opción -t nos permite dar un tiempo máximo para el prompt,
momento a partir del cual se continua con el script. Esto es especialmente útil
para los scripts de instalación, donde a veces el administrador no está
presente esperando a que la instalación acabe.

Pág 121

