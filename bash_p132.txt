El shell Bash

MacProgramadores

El comando jobs también tiene otras opciones interesantes que vamos a
comentar aquí. La opción -l hace que jobs muestre también el ID de
proceso:
$ jobs -l
[1]
766 Stopped
[2]- 772 Running
[3]+ 774 Running

esto
eso
aquello

La opción -p hace que jobs muestre sólo el ID de los procesos de background
(esto nos resultará útil en el Ejercicio 8.1):
$ jobs -p
766
772
774
La opción -r muestra sólo los jobs que están ejecutándose (running), la
opción -s muestra sólo los que están parados (stopped), y la opción -n los
que han cambiando de estado desde la última vez que jobs nos los mostró. La
opción -x nos permite ejecutar un proceso (en foreground). Si a esta última
opción la damos un número de proceso, nos lo sustituye por su ID de
proceso. Por ejemplo:
$ jobs -x echo %2
772

2.2. Suspender y reanudar un job
Una vez que tenemos un proceso en foreground, bien sea por haberlo puesto
con fg, o por no haber usado & para que quede en background, éste tiene el
control del teclado, y si el proceso es largo, conviene pasarlo a background de
nuevo.
Para ello podemos usar la combinación de teclas Ctrl+Z que pasa el proceso
que tenga el control del teclado a background y lo deja parado. Después
podemos usar el comando bg para volver a pasar el proceso a ejecución.
Por ejemplo, si usamos el comando du para medir la ocupación de cada
directorio del disco y nos damos cuenta de que la operación está tardando,
podemos pararlo con Ctrl+Z, y reanudar su ejecución con bg. Además, como
sólo hay un job en background, podríamos haber usado bg sin argumentos.
$ du -d 1 / > ocupaciondisco.txt
^Z
[1]+ Stopped
du -d 1 / >ocupaciondisco.txt
Pág 132

