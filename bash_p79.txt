El shell Bash

MacProgramadores

2. El bucle for
El bucle for en Bash es un poco distinto a los bucles for tradicionales de
otros lenguajes como C o Java, sino que se parece más al bucle for each
de otros lenguajes, ya que aquí no se repite un número fijo de veces, sino
que se procesan las palabras de una frase una a una.
Su sintaxis es la siguiente:
for var [in lista]
do
·····
Sentencias que usan $var
·····
done
Si se omite in lista, se recorre el contenido de $@, pero aunque vayamos
a recorrer esta variable, en este tutorial la indicaremos explícitamente por
claridad.
Por ejemplo si queremos recorrer una lista de planetas podemos hacer:
for planeta in Mercury Venus Terra Marte Jupiter Saturno
do
echo $planeta # Imprime cada planeta en una línea
done
La lista del bucle for puede contener comodines. Por ejemplo, el siguiente
bucle muestra información detallada de todos los ficheros en el directorio
actual:
for fichero in *
do
ls -l "$fichero"
done
Para recorrer los argumentos recibidos por el script, lo correcto es utilizar
"$@" entrecomillado, ya que como explicamos en el apartado 2.3 del Tema 4
tanto $* como $@ sin entrecomillar interpretan mal los argumentos con
espacios, y "$*" entrecomillado considera un sólo elemento a todos los
argumentos.
Por ejemplo, en el Listado 5.2 hemos modificamos el script recibe, que
hicimos en el apartado 2.3 del Tema 4, para que recorra con un bucle tanto
"$*" como "$@":

Pág 79

