El shell Bash

MacProgramadores

4. La librería readline
La librería readline es una librería GNU que permite editar líneas de texto
usando los modos de emacs y vi. Aunque originariamente creada por Bash,
actualmente la utilizar multitud de comandos GNU. Esto permite estandarizar
las combinaciones de teclas entre muchos comandos.
readline se puede personalizar usando ficheros de configuración o bien
asignando combinaciones de teclas para la sesión. En los siguientes
subapartados estudiaremos cada una de estas formas de configurarla.

4.1. El fichero de configuración
readline tiene un fichero de configuración global que debe ser colocado en
/etc/inputrc, y otro para cada usuario que por defecto se llama
.inputrc y que se debe colocar en el directorio home de cada usuario.
Podemos cambiar este fichero usando la variable de entorno INPUTRC para
indicar una ubicación distinta.
Cuando Bash arranca lee estos ficheros (si existen) y carga sus valores.
Dentro del fichero puede haber comentarios (precedidos por #),
combinaciones de teclas y asignaciones a variables de readline.

4.1.1.

Combinaciones de teclas

El primer tipo de entradas que puede haber en este fichero son asignaciones
de combinaciones de teclas a funciones de readline. Readline tiene un
conjunto grande de funciones que podemos encontrar documentadas en
info readline o en man bash. Estas funciones realizan multitud de
operaciones comunes. Para listar estas variables podemos crear el fichero
.inputrc en nuestro directorio home y añadir la siguiente entrada:
# Lista las funciones y variables de readline
"\C-x\C-f": dump-functions
"\C-x\C-v": dump-variables
Como el fichero .inputrc no se lee hasta logarnos de nuevo en Bash
podemos usar la combinación de teclas Ctrl+X Ctrl+R para que readline
vuelva a leer este fichero.
Ahora hemos indicado que la combinación de teclas Ctrl+X Ctrl+F muestre las
funciones de readline (ejecute la función dump-variables() de readline), y
que Ctrl+X Ctrl+V muestre las variables de readline.
Pág 32

